*{box-sizing:border-box}
:root{
  --bg:#ffffff; --fg:#111; --muted:#666; --accent:#2563eb; --accent2:#7c3aed;
  --border:#e5e7eb; --chip:#f3f4f6;
}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--fg)}
.app-header{padding:16px 20px;border-bottom:1px solid var(--border);position:sticky;top:0;background:#fff;z-index:10}
.app-header h1{margin:0;font-size:20px;font-weight:700}
.app-header .sub{margin:4px 0 0;font-size:12px;color:var(--muted)}
.container{padding:16px 20px;max-width:1200px;margin:0 auto}
.controls{display:flex;flex-direction:column;gap:12px;margin-bottom:12px}
.row{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px}
.control{display:flex;flex-direction:column;gap:6px}
.label{font-size:14px;font-weight:600}
small{color:var(--muted)}
.buttons{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
button{appearance:none;border:1px solid var(--border);background:#fff;padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:600}
button:hover{border-color:#cbd5e1}
button:disabled{opacity:.5;cursor:not-allowed}
button.accent{background:var(--accent);border-color:var(--accent);color:#fff}
button.secondary{background:#f8fafc}
.toggle{display:flex;gap:8px;align-items:center;border:1px dashed var(--border);border-radius:12px;padding:8px 10px}
.status{padding:10px 12px;border:1px dashed var(--border);border-radius:12px;margin-bottom:12px;font-size:14px;color:var(--muted)}
#stageWrap{position:relative;border:1px solid var(--border);border-radius:12px;overflow:hidden;background:#fff;min-height:300px}
#stage{position:relative;transform-origin:top left;background:
  radial-gradient(transparent 98%, rgba(0,0,0,0.03) 100%) 0 0 / 40px 40px}
.seat{position:absolute;border:1px solid var(--border);border-radius:10px;background:#fff;overflow:hidden;cursor:pointer;transform-origin:center center}
.seat .img{position:absolute;inset:0;background-size:cover;background-position:center;background-repeat:no-repeat}
.seat .name{position:absolute;left:6px;right:6px;bottom:6px;background:rgba(255,255,255,.85);border-radius:999px;padding:3px 8px;font-size:11px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.seat .id{position:absolute;top:6px;left:6px;background:var(--chip);border-radius:999px;padding:2px 6px;font-size:10px;color:var(--muted);border:1px solid var(--border)}
.seat.selectA{outline:3px solid var(--accent)}
.seat.selectB{outline:3px solid var(--accent2)}
/* editor grips */
.seat.editable{border-style:dashed}
.grip{position:absolute;width:10px;height:10px;background:#fff;border:1px solid var(--accent);border-radius:2px}
.grip.br{right:-6px;bottom:-6px;cursor:nwse-resize}
.grip.rot{right:50%;transform:translateX(50%);top:-22px;width:14px;height:14px;border-radius:999px;cursor:grab}
.info{position:absolute;top:6px;right:6px;background:#111;color:#fff;border-radius:6px;padding:2px 6px;font-size:10px;opacity:.85}
.footer{padding:16px 20px;color:var(--muted);border-top:1px solid var(--border);margin-top:20px}
